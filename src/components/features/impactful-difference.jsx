"use client";
import { useState } from "react";
import {
    Accordion,
    AccordionHeader,
    AccordionBody,
} from "@material-tailwind/react";

const features = [
    {
        id: 1,
        title: "Appointment Scheduling",
        description:
            "Enable real-time communication between providers, patients, and staff.",
        image: "/image/ImpactfulForm.png",
        icon: <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clipPath="url(#clip0_121_6449)"> <g clipPath="url(#clip1_121_6449)"> <path d="M28.75 21.25C27.2666 21.25 25.8166 21.6899 24.5832 22.514C23.3499 23.3381 22.3886 24.5094 21.8209 25.8799C21.2532 27.2503 21.1047 28.7583 21.3941 30.2132C21.6835 31.668 22.3978 33.0044 23.4467 34.0533C24.4956 35.1022 25.832 35.8165 27.2868 36.1059C28.7417 36.3953 30.2497 36.2468 31.6201 35.6791C32.9906 35.1114 34.1619 34.1501 34.986 32.9168C35.8101 31.6834 36.25 30.2334 36.25 28.75C36.2479 26.7615 35.457 24.8551 34.051 23.449C32.6449 22.043 30.7385 21.2521 28.75 21.25ZM32.375 30.559C32.3017 30.7059 32.2001 30.8369 32.0762 30.9446C31.9522 31.0522 31.8082 31.1344 31.6525 31.1864C31.4968 31.2384 31.3323 31.2592 31.1685 31.2476C31.0048 31.2361 30.8449 31.1924 30.698 31.119L28.198 29.869C27.9889 29.7661 27.8128 29.6068 27.6894 29.409C27.5661 29.2113 27.5005 28.983 27.5 28.75V25C27.5 24.6685 27.6317 24.3505 27.8661 24.1161C28.1005 23.8817 28.4185 23.75 28.75 23.75C29.0815 23.75 29.3995 23.8817 29.6339 24.1161C29.8683 24.3505 30 24.6685 30 25V27.977L31.809 28.881C31.9564 28.954 32.0879 29.0553 32.1961 29.1791C32.3043 29.303 32.387 29.4469 32.4396 29.6028C32.4922 29.7586 32.5135 29.9232 32.5024 30.0873C32.4913 30.2514 32.448 30.4117 32.375 30.559ZM33.75 8.75C33.75 7.75544 33.3549 6.80161 32.6516 6.09835C31.9484 5.39509 30.9946 5 30 5H26.25V3.75C26.25 3.41848 26.1183 3.10054 25.8839 2.86612C25.6495 2.6317 25.3315 2.5 25 2.5C24.6685 2.5 24.3505 2.6317 24.1161 2.86612C23.8817 3.10054 23.75 3.41848 23.75 3.75V5H12.5V3.75C12.5 3.41848 12.3683 3.10054 12.1339 2.86612C11.8995 2.6317 11.5815 2.5 11.25 2.5C10.9185 2.5 10.6005 2.6317 10.3661 2.86612C10.1317 3.10054 10 3.41848 10 3.75V5H6.25C5.25544 5 4.30161 5.39509 3.59835 6.09835C2.89509 6.80161 2.5 7.75544 2.5 8.75V12.5H33.75V8.75Z" fill="#7026A1" /> <path d="M28.75 18.75C30.507 18.7475 32.233 19.2135 33.75 20.1V15H2.5V30C2.5029 30.9937 2.89892 31.9458 3.60156 32.6484C4.30419 33.3511 5.25633 33.7471 6.25 33.75H20.1C19.2135 32.233 18.7475 30.507 18.75 28.75C18.7537 26.099 19.8085 23.5576 21.683 21.683C23.5576 19.8085 26.099 18.7537 28.75 18.75ZM10 28.75H7.5C7.16848 28.75 6.85054 28.6183 6.61612 28.3839C6.3817 28.1495 6.25 27.8315 6.25 27.5C6.25 27.1685 6.3817 26.8505 6.61612 26.6161C6.85054 26.3817 7.16848 26.25 7.5 26.25H10C10.3315 26.25 10.6495 26.3817 10.8839 26.6161C11.1183 26.8505 11.25 27.1685 11.25 27.5C11.25 27.8315 11.1183 28.1495 10.8839 28.3839C10.6495 28.6183 10.3315 28.75 10 28.75ZM10 22.5H7.5C7.16848 22.5 6.85054 22.3683 6.61612 22.1339C6.3817 21.8995 6.25 21.5815 6.25 21.25C6.25 20.9185 6.3817 20.6005 6.61612 20.3661C6.85054 20.1317 7.16848 20 7.5 20H10C10.3315 20 10.6495 20.1317 10.8839 20.3661C11.1183 20.6005 11.25 20.9185 11.25 21.25C11.25 21.5815 11.1183 21.8995 10.8839 22.1339C10.6495 22.3683 10.3315 22.5 10 22.5ZM17.5 22.5H15C14.6685 22.5 14.3505 22.3683 14.1161 22.1339C13.8817 21.8995 13.75 21.5815 13.75 21.25C13.75 20.9185 13.8817 20.6005 14.1161 20.3661C14.3505 20.1317 14.6685 20 15 20H17.5C17.8315 20 18.1495 20.1317 18.3839 20.3661C18.6183 20.6005 18.75 20.9185 18.75 21.25C18.75 21.5815 18.6183 21.8995 18.3839 22.1339C18.1495 22.3683 17.8315 22.5 17.5 22.5Z" fill="#7026A1" /> </g> </g> <defs> <clipPath id="clip0_121_6449"> <rect width="40" height="40" fill="white" /> </clipPath> <clipPath id="clip1_121_6449"> <rect width="40" height="40" fill="white" /> </clipPath> </defs> </svg>
    },
    {
        id: 2,
        title: "Patient Management",
        description: "Manage patient records, history and progress securely.",
        image: "/image/ImpactfulForm.png",
        icon: <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clipPath="url(#clip0_121_6421)"> <g clipPath="url(#clip1_121_6421)"> <g clipPath="url(#clip2_121_6421)"> <g clipPath="url(#clip3_121_6421)"> <mask id="mask0_121_6421" style={{ maskType: 'luminance' }} maskUnits="userSpaceOnUse" x="0" y="0" width="40" height="40"> <path d="M0 0H40V40H0V0Z" fill="white" /> </mask> <g mask="url(#mask0_121_6421)"> <path d="M31.667 3.33301H8.333C6.483 3.33301 5 4.83301 5 6.66601V30C5 31.833 6.5 33.333 8.333 33.333H15L18.817 37.15C19.467 37.8 20.517 37.8 21.167 37.15L25 33.333H31.667C33.5 33.333 35 31.833 35 30V6.66601C35 4.83301 33.5 3.33301 31.667 3.33301ZM20 8.83301C22.483 8.83301 24.5 10.85 24.5 13.333C24.5 15.816 22.483 17.833 20 17.833C18.8068 17.8322 17.6626 17.3579 16.8189 16.5141C15.9752 15.6704 15.5008 14.5262 15.5 13.333C15.5 10.85 17.517 8.83301 20 8.83301ZM30 26.666H10V25.166C10 21.833 16.667 20 20 20C23.333 20 30 21.833 30 25.166V26.666Z" fill="#7026A1" /> </g> </g> </g> </g> </g> <defs> <clipPath id="clip0_121_6421"> <rect width="40" height="40" fill="white" /> </clipPath> <clipPath id="clip1_121_6421"> <rect width="40" height="40" fill="white" /> </clipPath> <clipPath id="clip2_121_6421"> <rect width="40" height="40" fill="white" /> </clipPath> <clipPath id="clip3_121_6421"> <rect width="40" height="40" fill="white" /> </clipPath> </defs> </svg>
    },
    {
        id: 3,
        title: "Billing & Invoicing",
        description: "Quick and easy billing management with automation.",
        image: "/image/ImpactfulForm.png",
        icon: <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clipPath="url(#clip0_121_5015)"> <g clipPath="url(#clip1_121_5015)"> <g clipPath="url(#clip2_121_5015)"> <path d="M6.66699 2.08301C6.06503 2.08261 5.46889 2.20089 4.91268 2.43107C4.35647 2.66124 3.85108 2.99881 3.42544 3.42446C2.99979 3.85011 2.66222 4.35549 2.43204 4.9117C2.20186 5.46792 2.08359 6.06405 2.08399 6.66601V19.166C2.08399 19.7185 2.30341 20.2485 2.69402 20.6393C3.08463 21.0301 3.61445 21.2497 4.16699 21.25H10.001C10.3315 21.2471 10.6477 21.1145 10.8813 20.8807C11.115 20.6468 11.2474 20.3305 11.25 20V6.66601C11.2501 6.06404 11.1316 5.46794 10.9013 4.91178C10.671 4.35562 10.3333 3.8503 9.9076 3.42469C9.48189 2.99908 8.9765 2.66153 8.42029 2.43131C7.86408 2.2011 7.26895 2.08275 6.66699 2.08301ZM8.75099 18.75H4.58399V6.66601C4.58412 6.22885 4.72292 5.80299 4.98042 5.44972C5.23792 5.09644 5.60085 4.83395 6.01699 4.70001C6.22399 4.61801 6.44498 4.57801 6.66699 4.58301C7.21952 4.58301 7.74944 4.80244 8.14024 5.19304C8.53104 5.58365 8.75072 6.11347 8.75099 6.66601V18.75Z" fill="#7026A1" /> <path d="M25.001 2.08301H6.66803C6.44947 2.08291 6.23465 2.13976 6.04475 2.24795C5.85484 2.35614 5.6964 2.51195 5.58503 2.70001C5.47836 2.89105 5.42236 3.10621 5.42236 3.32501C5.42236 3.54381 5.47836 3.75897 5.58503 3.95001L6.01703 4.70001C6.22403 4.61801 6.44503 4.57801 6.66703 4.58301C7.21957 4.58301 7.74949 4.80243 8.14029 5.19304C8.53109 5.58365 8.75077 6.11347 8.75103 6.66601V34.633C8.75457 35.1381 8.88847 35.6338 9.13976 36.072C9.39105 36.5102 9.75122 36.8761 10.1854 37.1343C10.6196 37.3925 11.1131 37.5342 11.6181 37.5457C12.1231 37.5572 12.6225 37.4381 13.068 37.2C13.234 37.1 13.401 37 13.551 36.916C14.2134 36.4361 15.0165 36.1899 15.834 36.216C16.6523 36.1869 17.4566 36.4334 18.118 36.916C19.1766 37.6093 20.4187 37.9695 21.684 37.95C22.9469 37.9712 24.1859 37.6048 25.234 36.9C25.9087 36.4515 26.7014 36.2136 27.5115 36.2165C28.3216 36.2193 29.1126 36.4628 29.784 36.916C29.951 37 30.101 37.1 30.268 37.2C30.7132 37.4397 31.213 37.5596 31.7184 37.5478C32.2238 37.5361 32.7175 37.3931 33.151 37.133C33.5883 36.8787 33.9509 36.5138 34.2024 36.075C34.454 35.6361 34.5856 35.1388 34.584 34.633V11.666C34.5809 9.12541 33.5702 6.68978 31.7737 4.89331C29.9773 3.09684 27.5416 2.08618 25.001 2.08301ZM22.501 25.416H15.834C15.5025 25.416 15.1846 25.2843 14.9501 25.0499C14.7157 24.8155 14.584 24.4975 14.584 24.166C14.584 23.8345 14.7157 23.5165 14.9501 23.2821C15.1846 23.0477 15.5025 22.916 15.834 22.916H22.501C22.8326 22.916 23.1505 23.0477 23.3849 23.2821C23.6193 23.5165 23.751 23.8345 23.751 24.166C23.751 24.4975 23.6193 24.8155 23.3849 25.0499C23.1505 25.2843 22.8326 25.416 22.501 25.416ZM27.501 19.583H15.834C15.5025 19.583 15.1846 19.4513 14.9501 19.2169C14.7157 18.9825 14.584 18.6645 14.584 18.333C14.584 18.0015 14.7157 17.6835 14.9501 17.4491C15.1846 17.2147 15.5025 17.083 15.834 17.083H27.501C27.8326 17.083 28.1505 17.2147 28.3849 17.4491C28.6193 17.6835 28.751 18.0015 28.751 18.333C28.751 18.6645 28.6193 18.9825 28.3849 19.2169C28.1505 19.4513 27.8326 19.583 27.501 19.583ZM27.501 13.75H15.834C15.5025 13.75 15.1846 13.6183 14.9501 13.3839C14.7157 13.1495 14.584 12.8315 14.584 12.5C14.584 12.1685 14.7157 11.8505 14.9501 11.6161C15.1846 11.3817 15.5025 11.25 15.834 11.25H27.501C27.8326 11.25 28.1505 11.3817 28.3849 11.6161C28.6193 11.8505 28.751 12.1685 28.751 12.5C28.751 12.8315 28.6193 13.1495 28.3849 13.3839C28.1505 13.6183 27.8326 13.75 27.501 13.75Z" fill="#7026A1" /> </g> </g> </g> <defs> <clipPath id="clip0_121_5015"> <rect width="40" height="40" fill="white" /> </clipPath> <clipPath id="clip1_121_5015"> <rect width="40" height="40" fill="white" /> </clipPath> <clipPath id="clip2_121_5015"> <rect width="40" height="40" fill="white" /> </clipPath> </defs> </svg>
    },
];

export default function ImpactfullDifference() {
    const [open, setOpen] = useState(1);
    const [currentImage, setCurrentImage] = useState(features[0].image);

    const handleOpen = (id, image) => {
        setOpen(open === id ? 0 : id);
        setCurrentImage(image);
    };

    return (

        <section className="pt-16 bg-white">
            <div className="mx-auto">
                <div className="lg:w-[70%] md:w-full mx-auto px-3 py-10 rounded-[16px]">

                    <h1 className="text-[var(--dark4)] text-[56px]/[64px] font-semibold text-center">
                        See the impact. Feel the difference

                    </h1>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-5 p-6 mt-10">

                        {/* LEFT IMAGE */}
                        <div className="flex justify-end items-center">
                            <img
                                src={currentImage}
                                className="rounded-t-xl shadow-xl w-full max-w-md object-cover"
                                alt="Feature"
                            />
                        </div>

                        {/* RIGHT ACCORDION */}
                        <div className="space-y-2">
                            {features.map((item) => (
                                <Accordion
                                    key={item.id}
                                    open={open === item.id}
                                    icon={<span className="text-purple-600 text-xl">âŒ„</span>}
                                >
                                    <AccordionHeader
                                        onClick={() => handleOpen(item.id, item.image)}
                                        className={`border-b-0 px-4 ${open === item.id ? "text-white bg-[var(--purple1)] text-[32px]/[44px]  rounded-t-[24px] hover:text-white " : "text-black bg-[#ECF5FE] rounded-[24px] mt-5 font-medium text-[32px]/[44px]"
                                            } font-semibold`}
                                    >
                                        <div className="flex items-center gap-3">
                                            <span className="flex items-center justify-center w-[56px] h-[56px] rounded-[12px] bg-[#ECC0FC]">
                                                {
                                                    item.icon
                                                }
                                            </span>
                                            {item.title}
                                        </div>
                                    </AccordionHeader>

                                    <AccordionBody className={`text-gray-600 ${open === item.id ? 'bg-[var(--purple1)] text-white px-4 rounded-b-[24px] min-h-52 flex items-end' : ''}`}>
                                        <div>
                                            {item.description}
                                        </div>
                                    </AccordionBody>
                                </Accordion>
                            ))}
                        </div>
                    </div>
                </div>

            </div>
        </section>

    );
}
